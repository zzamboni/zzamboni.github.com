<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head profile="http://gmpg.org/xfn/11">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	
	<title>  Updating to modular xorg-x11 in Gentoo (Howto)</title>
	
	<meta name="generator" content="WordPress 2.8.4" /> <!-- leave this for stats -->
	
	<link rel="stylesheet" href="../../../../wp-content/themes/Cutline_BrT_retired/style.css" type="text/css" media="screen" />
	<link rel="stylesheet" href="../../../../wp-content/themes/Cutline_BrT_retired/custom.css" type="text/css" media="screen" />
	<!--[if lte IE 7]>
	<link rel="stylesheet" type="text/css" href="http://zzamboni.org/brt/wp-content/themes/Cutline_BrT_retired/ie7.css" media="screen" />
	<![endif]-->
	<!--[if lte IE 6]>
	<link rel="stylesheet" type="text/css" href="http://zzamboni.org/brt/wp-content/themes/Cutline_BrT_retired/ie6.css" media="screen" />
	<![endif]-->
<!-- RETIRED
  <link rel="alternate" type="application/rss+xml" title="<.?php bloginfo('name'); ?> RSS Feed" href="<.?php bloginfo('rss2_url'); ?>" />
	<link rel="pingback" href="<.?php bloginfo('pingback_url'); ?>" />
	-->

	<link rel="alternate" type="application/rss+xml" title="BrT &raquo; Updating to modular xorg-x11 in Gentoo (Howto) Comments Feed" href="feed/index.html" />
<link rel='stylesheet' id='thickbox-css'  href='../../../../wp-includes/js/thickbox/thickbox.css%3Fver=20090514' type='text/css' media='all' />
<script type='text/javascript' src='../../../../wp-includes/js/jquery/jquery.js%3Fver=1.3.2'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://zzamboni.org/brt/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../../../wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='BrT' href='../../../../index.html' />
<link rel='start' title='Welcome to BrT' href='../../../01/23/welcome-to-brt/index.html' />
<link rel='prev' title='GoboLinux &#8211; the alternative Linux distribution' href='../../03/gobolinux-the-alternative-linux-distribution/index.html' />
<link rel='next' title='Speed reading' href='../../12/speed-reading/index.html' />
<meta name="generator" content="WordPress 2.8.4" />
</head>
<body class="custom">
<!-- RETIRED ?php if(function_exists('wp_admin_bar')) wp_admin_bar(); ?> -->

<div id="container">

	<div id="masthead">
		<h1><a href="../../../../index.html">BrT</a></h1>
		<h3>Musings about technology and other neat stuff</h3>
	</div>

	<ul id="nav">
		<li><a href="../../../../index.html">blog</a></li>
		<li><a href="../../../../archives/index.html">archives</a></li>
<!--		<li id="safari-search-field"><form method='get' id='searchform' action='http://zzamboni.org/brt'><div><input type='search' placeholder='Search BrT...' autosave='zzamboni.org.searchhistory' results=5 value='' name='s' id='s' /></div></form></li>-->
<li>
<form action="http://www.google.com/cse" id="cse-search-box">
  <div>
	    <input type="hidden" name="cx" value="007336107369566601471:rwvrqwxlxt4" />
			    <input type="hidden" name="ie" value="ISO-8859-1" />
					    <input type="text" name="q" size="20" />
							    <input type="submit" name="sa" value="Search" />
									  </div>
										</form>
										<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en"></script>
</li>
<!-- RETIRED		<li class="rss"><a href="<.?php bloginfo('rss2_url'); ?>">RSS</a></li>
-->
<li class="retired">
<a href="../../../../2009/09/29/transitions/index.html">Retired</a> - <a style="background-color: yellow;" href="http://zzamboni.org/">go to the new site</a>
</li>
	</ul>
	
	<div id="header_img">
	  		<img src="../../../../wp-content/themes/Cutline_BrT_retired/images/headers/IMG_1882_2.jpg" width="770" height="140" alt="BrT random header image" />
	</div>
		<div id="header_links">
<script type="text/javascript"><!--
google_ad_client = "pub-3029003434032114";
/* BrT header ads */
google_ad_slot = "2123164689";
google_ad_width = 728;
google_ad_height = 15;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
		  </div>

	<div id="content_box">
		
		<div id="content" class="posts">
			
					
			
<div class="navigation">
	<span class="previous">&larr; <a href="../../03/gobolinux-the-alternative-linux-distribution/index.html">GoboLinux &#8211; the alternative Linux distribution</a></span>
	<span class="next"><a href="../../12/speed-reading/index.html">Speed reading</a> &rarr;</span>
</div>
<div class="clear whitespace"></div>

			
			<h2>Updating to modular xorg-x11 in Gentoo (Howto)</h2>
			<h4>November 7th, 2005<!-- by ZZamboni --> &middot; <a href="index.html#comments">4 Comments</a></h4>
			<div class="entry">
				<p>I updated my xorg-x11 installation in my Gentoo machine to version xorg-x11-7.0.0_rc1, which uses the new &#8220;modular X.org&#8221; architecture. It was mostly painless. Here are the steps:</p>
<p>1. Unmerge the old xorg-x11 (make a binary package in case you want to go back: quickpkg xorg-x11)<br />
2. Copy the whole xorg-x11 section from /usr/portage/profiles/package.mask to /etc/portage/package.unmask<br />
3. emerge -av xorg-x11. It&#8217;s about 100 packages, but many of them are very small, so the total time is similar to the old monolithic xorg-x11 ebuild.<br />
5. You have to emerge some drivers and auxiliary programs manually: emege -av xfs xf86-video-ati xf86-video-vesa xf86-input-mouse xf86-input-keyboard xf86-input-evdev xrefresh xvidtune xwininfo xev libXvMC xdpyinfo xvinfo xset xmag<br />
6. (this had me stumped for a few minutes) In xorg.conf, change ModulePath from /usr/X11R6/lib/modules to /usr/lib/xorg/modules<br />
7. /etc/xinit.d/xfs restart; /etc/init.d/xdm restart</p>
<p>That&#8217;s it! My xorg.conf worked unmodified, with the ModulePath exception mentioned above. I now seem to have some slight font changes, but I guess I&#8217;ll figure it out as I go.</p>
<p><strong>Update:</strong> to fix the font problems, you also need to install the bitmapped font packages (by default it only installs truetype fonts): emerge media-fonts/font-adobe-100dpi-0.99.1 media-fonts/font-adobe-75dpi-0.99.1 media-fonts/font-adobe-utopia-100dpi-0.99.1 media-fonts/font-adobe-utopia-75dpi-0.99.1 media-fonts/font-bh-100dpi-0.99.1 media-fonts/font-bh-75dpi-0.99.1 media-fonts/font-bh-lucidatypewriter-100dpi-0.99.1 media-fonts/font-bh-lucidatypewriter-75dpi-0.99.1 media-fonts/font-bitstream-100dpi-0.99.0 media-fonts/font-bitstream-75dpi-0.99.0 media-fonts/font-bitstream-speedo-0.99.1 media-fonts/font-xfree86-type1-0.99.0</p>
<p>With this, my fonts went back to the way they were before.</p>
<p><strong>Update 2:</strong> One problem that I noticed later on is that now Ctrl-Alt-+ doesn&#8217;t do anything. I am using the radeon driver with MergedFB, and even though the X.org log shows that the MetaModes I have defined are being correctly recognized, Ctrl-Alt-+ does not switch between them as it used to do. Still investigating&#8230;</p>
<p><strong>Update 3:</strong> The Ctrl-Alt-+ problem is solved by adding <code>Option  "XkbDisable"</code> to my /etc/X11/xorg.conf. Now switching resolutions works, but I lose the xkb extensions (keyboard layouts, etc.). Hrm&#8230;</p>
							</div>
			<!--<p class="tagged"><strong>Tags:</strong> Uncategorized</p>--><p class="tagged"><strong>Tags:</strong> <a href="../../../../tag/linux/index.html" rel="tag">Linux</a> &middot; <a href="../../../../tag/tips-tricks/index.html" rel="tag">Tips &#038; tricks</a></p>
			<div class="clear"></div>
			
			
<!-- You can start editing here. -->


<div id="comments">

	<h3 class="comments_headers">4 responses so far &darr;</h3>
	
	<ul id="comment_list">

	
			
		<li class="comment  " id="comment-248">
			<p class="comment_meta">
				<span class="comment_num"><a href="index.html#comment-248" title="Permalink to this comment">1</a></span>
				<strong><img alt='' src='http://www.gravatar.com/avatar/34475aabc81f3e651cf95ca821b64b9c?s=24&amp;d=identicon&amp;r=R' class='avatar avatar-24 photo' height='24' width='24' />&nbsp;<a href='http://www.raptorized.com' rel='external nofollow' class='url'>Alex G.</a> </strong>
				<span class="comment_time">// Feb 28, 2006 at 7:27 am</span>
			</p>
			<div class="entry">
				<p>Thanks for the hint on the fonts, that helped me <img src='../../../../wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>
<p>Nice blog by the way.</p>
 
							</div>
		</li>
		
			
		<li class="comment mycomment " id="comment-249">
			<p class="comment_meta">
				<span class="comment_num"><a href="index.html#comment-249" title="Permalink to this comment">2</a></span>
				<strong><img alt='' src='http://www.gravatar.com/avatar/ea65e5d90b2df05ac60184927386d4e0?s=24&amp;d=identicon&amp;r=R' class='avatar avatar-24 photo' height='24' width='24' />&nbsp;<a href='http://www.zzamboni.org/brt/' rel='external nofollow' class='url'>Hitchhiker</a> </strong>
				<span class="comment_time">// Feb 28, 2006 at 10:13 am</span>
			</p>
			<div class="entry">
				<p>Thanks! I&#8217;m glad it helped <img src='../../../../wp-includes/images/smilies/icon_smile.gif' alt=':-)' class='wp-smiley' /> </p>
 
							</div>
		</li>
		
			
		<li class="comment  " id="comment-250">
			<p class="comment_meta">
				<span class="comment_num"><a href="index.html#comment-250" title="Permalink to this comment">3</a></span>
				<strong><img alt='' src='http://www.gravatar.com/avatar/c73bd6849732955a7cd8ccff771bd7f4?s=24&amp;d=identicon&amp;r=R' class='avatar avatar-24 photo' height='24' width='24' />&nbsp;Jordi G. March </strong>
				<span class="comment_time">// Feb 28, 2006 at 7:50 pm</span>
			</p>
			<div class="entry">
				<p>But, what about performance? Is the modular version in any way faster than the monolithic one (6.9)?</p>
<p>Thanks,<br />
Jordi</p>
 
							</div>
		</li>
		
			
		<li class="comment mycomment " id="comment-252">
			<p class="comment_meta">
				<span class="comment_num"><a href="index.html#comment-252" title="Permalink to this comment">4</a></span>
				<strong><img alt='' src='http://www.gravatar.com/avatar/ea65e5d90b2df05ac60184927386d4e0?s=24&amp;d=identicon&amp;r=R' class='avatar avatar-24 photo' height='24' width='24' />&nbsp;<a href='http://www.zzamboni.org/brt/' rel='external nofollow' class='url'>Hitchhiker</a> </strong>
				<span class="comment_time">// Mar 1, 2006 at 4:11 pm</span>
			</p>
			<div class="entry">
				<p>Jordi &#8211; it felt a bit snappier, but it&#8217;s only my subjective opinion. It&#8217;s probably about the same.</p>
 
							</div>
		</li>
		
			
	</ul>
		
	

	<!-- Comment Form -->
	</div> <!-- Close #comments container -->
<div class="clear flat"></div>
			
				
		</div>
		
		<div id="sidebar">
	<ul class="sidebar_list">
		<li id="tag_cloud-2" class="widget widget_tag_cloud"><h2 class="widgettitle">Tags</h2>
<div><a href='../../../../tag/readlater/index.html' class='tag-link-138' title='5 topics' rel="tag" style='font-size: 8.28571428571pt;'>@readlater</a>
<a href='../../../../tag/apple/index.html' class='tag-link-129' title='3 topics' rel="tag" style='font-size: 8.09523809524pt;'>apple</a>
<a href='../../../../tag/art/index.html' class='tag-link-36' title='3 topics' rel="tag" style='font-size: 8.09523809524pt;'>art</a>
<a href='../../../../tag/blogging/index.html' class='tag-link-10' title='19 topics' rel="tag" style='font-size: 9.61904761905pt;'>Blogging</a>
<a href='../../../../tag/cocoa/index.html' class='tag-link-153' title='8 topics' rel="tag" style='font-size: 8.57142857143pt;'>cocoa</a>
<a href='../../../../tag/commodore/index.html' class='tag-link-31' title='2 topics' rel="tag" style='font-size: 8pt;'>commodore</a>
<a href='../../../../tag/computing/index.html' class='tag-link-8' title='8 topics' rel="tag" style='font-size: 8.57142857143pt;'>Computing</a>
<a href='../../../../tag/cool/index.html' class='tag-link-37' title='11 topics' rel="tag" style='font-size: 8.85714285714pt;'>cool</a>
<a href='../../../../tag/copperexport/index.html' class='tag-link-4' title='12 topics' rel="tag" style='font-size: 8.95238095238pt;'>CopperExport</a>
<a href='../../../../tag/education/index.html' class='tag-link-141' title='3 topics' rel="tag" style='font-size: 8.09523809524pt;'>education</a>
<a href='../../../../tag/fun/index.html' class='tag-link-81' title='4 topics' rel="tag" style='font-size: 8.19047619048pt;'>fun</a>
<a href='../../../../tag/gtd/index.html' class='tag-link-19' title='16 topics' rel="tag" style='font-size: 9.33333333333pt;'>GTD</a>
<a href='../../../../tag/health/index.html' class='tag-link-14' title='3 topics' rel="tag" style='font-size: 8.09523809524pt;'>Health</a>
<a href='../../../../tag/howto/index.html' class='tag-link-34' title='21 topics' rel="tag" style='font-size: 9.80952380952pt;'>howto</a>
<a href='../../../../tag/humor/index.html' class='tag-link-18' title='4 topics' rel="tag" style='font-size: 8.19047619048pt;'>Humor</a>
<a href='../../../../tag/image/index.html' class='tag-link-193' title='2 topics' rel="tag" style='font-size: 8pt;'>image</a>
<a href='../../../../tag/interesting/index.html' class='tag-link-39' title='4 topics' rel="tag" style='font-size: 8.19047619048pt;'>interesting</a>
<a href='../../../../tag/linky/index.html' class='tag-link-3' title='149 topics' rel="tag" style='font-size: 22pt;'>Linky</a>
<a href='../../../../tag/linux/index.html' class='tag-link-11' title='18 topics' rel="tag" style='font-size: 9.52380952381pt;'>Linux</a>
<a href='../../../../tag/mac/index.html' class='tag-link-7' title='42 topics' rel="tag" style='font-size: 11.8095238095pt;'>Mac</a>
<a href='../../../../tag/macosx/index.html' class='tag-link-134' title='24 topics' rel="tag" style='font-size: 10.0952380952pt;'>macosx</a>
<a href='../../../../tag/mailapp/index.html' class='tag-link-147' title='3 topics' rel="tag" style='font-size: 8.09523809524pt;'>mail.app</a>
<a href='../../../../tag/news/index.html' class='tag-link-28' title='3 topics' rel="tag" style='font-size: 8.09523809524pt;'>news</a>
<a href='../../../../tag/osx/index.html' class='tag-link-148' title='3 topics' rel="tag" style='font-size: 8.09523809524pt;'>osx</a>
<a href='../../../../tag/passwords/index.html' class='tag-link-26' title='2 topics' rel="tag" style='font-size: 8pt;'>passwords</a>
<a href='../../../../tag/personal/index.html' class='tag-link-15' title='14 topics' rel="tag" style='font-size: 9.14285714286pt;'>Personal</a>
<a href='../../../../tag/photography/index.html' class='tag-link-16' title='6 topics' rel="tag" style='font-size: 8.38095238095pt;'>Photography</a>
<a href='../../../../tag/productivity/index.html' class='tag-link-5' title='21 topics' rel="tag" style='font-size: 9.80952380952pt;'>Productivity</a>
<a href='../../../../tag/programming/index.html' class='tag-link-13' title='22 topics' rel="tag" style='font-size: 9.90476190476pt;'>Programming</a>
<a href='../../../../tag/quicksilver/index.html' class='tag-link-25' title='2 topics' rel="tag" style='font-size: 8pt;'>QuickSilver</a>
<a href='../../../../tag/reference/index.html' class='tag-link-132' title='4 topics' rel="tag" style='font-size: 8.19047619048pt;'>reference</a>
<a href='../../../../tag/reviews/index.html' class='tag-link-20' title='4 topics' rel="tag" style='font-size: 8.19047619048pt;'>Reviews</a>
<a href='../../../../tag/ruby/index.html' class='tag-link-22' title='3 topics' rel="tag" style='font-size: 8.09523809524pt;'>Ruby</a>
<a href='../../../../tag/security/index.html' class='tag-link-9' title='8 topics' rel="tag" style='font-size: 8.57142857143pt;'>Security</a>
<a href='../../../../tag/site-news/index.html' class='tag-link-12' title='30 topics' rel="tag" style='font-size: 10.6666666667pt;'>Site news</a>
<a href='../../../../tag/software/index.html' class='tag-link-2' title='30 topics' rel="tag" style='font-size: 10.6666666667pt;'>Software</a>
<a href='../../../../tag/timemachine/index.html' class='tag-link-155' title='3 topics' rel="tag" style='font-size: 8.09523809524pt;'>timemachine</a>
<a href='../../../../tag/tips/index.html' class='tag-link-151' title='9 topics' rel="tag" style='font-size: 8.66666666667pt;'>tips</a>
<a href='../../../../tag/tips-tricks/index.html' class='tag-link-6' title='49 topics' rel="tag" style='font-size: 12.4761904762pt;'>Tips &#038; tricks</a>
<a href='../../../../tag/tools/index.html' class='tag-link-83' title='12 topics' rel="tag" style='font-size: 8.95238095238pt;'>tools</a>
<a href='../../../../tag/tutorial/index.html' class='tag-link-154' title='3 topics' rel="tag" style='font-size: 8.09523809524pt;'>tutorial</a>
<a href='../../../../tag/unix/index.html' class='tag-link-30' title='2 topics' rel="tag" style='font-size: 8pt;'>unix</a>
<a href='../../../../tag/video/index.html' class='tag-link-146' title='6 topics' rel="tag" style='font-size: 8.38095238095pt;'>video</a>
<a href='../../../../tag/wiltac/index.html' class='tag-link-202' title='5 topics' rel="tag" style='font-size: 8.28571428571pt;'>wiltac</a>
<a href='../../../../tag/wordpress/index.html' class='tag-link-157' title='6 topics' rel="tag" style='font-size: 8.38095238095pt;'>wordpress</a></div>
</li>
<li id="calendar-2" class="widget widget_calendar"><h2 class="widgettitle">Archives</h2>
<div id="calendar_wrap"><table id="wp-calendar" summary="Calendar">
	<caption>November 2005</caption>
	<thead>
	<tr>
		<th abbr="Sunday" scope="col" title="Sunday">S</th>
		<th abbr="Monday" scope="col" title="Monday">M</th>
		<th abbr="Tuesday" scope="col" title="Tuesday">T</th>
		<th abbr="Wednesday" scope="col" title="Wednesday">W</th>
		<th abbr="Thursday" scope="col" title="Thursday">T</th>
		<th abbr="Friday" scope="col" title="Friday">F</th>
		<th abbr="Saturday" scope="col" title="Saturday">S</th>
	</tr>
	</thead>

	<tfoot>
	<tr>
		<td abbr="October" colspan="3" id="prev"><a href="../../../10/index.html" title="View posts for October 2005">&laquo; Oct</a></td>
		<td class="pad">&nbsp;</td>
		<td abbr="December" colspan="3" id="next"><a href="../../../12/index.html" title="View posts for December 2005">Dec &raquo;</a></td>
	</tr>
	</tfoot>

	<tbody>
	<tr>
		<td colspan="2" class="pad">&nbsp;</td><td>1</td><td>2</td><td><a href="../../03/index.html" title="GoboLinux &#8211; the alternative Linux distribution">3</a></td><td>4</td><td>5</td>
	</tr>
	<tr>
		<td>6</td><td><a href="../index.html" title="Updating to modular xorg-x11 in Gentoo (Howto)">7</a></td><td>8</td><td>9</td><td>10</td><td>11</td><td><a href="../../12/index.html" title="Speed reading">12</a></td>
	</tr>
	<tr>
		<td>13</td><td>14</td><td>15</td><td><a href="../../16/index.html" title="PAT2PDF &#8211; Free PDF copies of patents: Download and print!">16</a></td><td>17</td><td><a href="../../18/index.html" title="Joel on Software: Price as Signal">18</a></td><td><a href="../../19/index.html" title="PowerPoint slides as documents &#8211; not!, Learning Python">19</a></td>
	</tr>
	<tr>
		<td>20</td><td>21</td><td>22</td><td><a href="../../23/index.html" title="XML and XPath in Python">23</a></td><td><a href="../../24/index.html" title="Random Chuck Norris Fact: Top Thirty Facts">24</a></td><td><a href="../../25/index.html" title="The grid game, Fire and Ice on camera together, Blogging links from digg, Matrix Ping Pong, 1980 games">25</a></td><td>26</td>
	</tr>
	<tr>
		<td>27</td><td>28</td><td>29</td><td>30</td>
		<td class="pad" colspan="3">&nbsp;</td>
	</tr>
	</tbody>
	</table></div></li>
<li id="text-3" class="widget widget_text"><h2 class="widgettitle">My blogroll</h2>
			<div class="textwidget"><script type="text/javascript" src="http://www.google.com/reader/ui/publisher-en.js"></script>
<script type="text/javascript" src="http://www.google.com/reader/public/javascript-sub/user/07157728015005316665/label/Can't miss?callback=GRC_p(%7Bc%3A%22-%22%2Ct%3A%22%22%2Cb%3A%22true%22%7D)%3Bnew%20GRC"></script></div>
		</li>
	</ul>
</div>			
	</div>

	<div id="footer">
		<p>&copy; 2006&ndash;2007 BrT &mdash; <a href="../../../../sitemap/index.html">Sitemap</a> &mdash; <a href="http://cutline.tubetorial.com/">Cutline</a> by <a href="http://www.tubetorial.com">Chris Pearson</a></p>
		<script type='text/javascript' src='../../../../wp-includes/js/thickbox/thickbox.js%3Fver=3.1-20090123'></script>

<script type="text/javascript">
var tb_pathToImage = "http://zzamboni.org/brt/wp-includes/js/thickbox/loadingAnimation.gif";
var tb_closeImage = "http://zzamboni.org/brt/wp-includes/js/thickbox/tb-close.png";
</script>
<script src="http://stats.wordpress.com/e-200940.js" type="text/javascript"></script>
<script type="text/javascript">
st_go({blog:'1092596',v:'ext',post:'72'});
var load_cmc = function(){linktracker_init(1092596,72,2);};
if ( typeof addLoadEvent != 'undefined' ) addLoadEvent(load_cmc);
else load_cmc();
</script>
	</div>
</div>

</body>
</html>