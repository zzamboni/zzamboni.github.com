---
layout: post
title: Cfengine3 lexer for Pygments
permalink: /blog/cfengine3-lexer-for-pygments
date: 2010-09-08 21:16:00.000000000 -05:00
comments: true
categories:
- cfengine
- pygments
- python
published: true
alias: /cfengine3-lexer-for-pygments
---
<p>I have written a <a href="http://cfengine.org/">Cfengine3</a> lexer for <a href="http://pygments.org/">Pygments</a>, the open source syntax-highlighter used by <a href="http://gist.github.com/">Gist</a> and many other sites. It seems to work fine on all the cfengine policy files I have tested, but if you find anything that doesn't quite work as expected, please let me know. This is my first-ever Pygments lexer, so if you are an expert and can advise me on better ways of doing things, I'd very much appreciate the feedback too.</p>
<p></p>  Here's how to install it (again, I don't know if this is the better or easier way):
<ol>
<li>Obtain the Pygments <a href="http://pygments.org/download/">source code</a>.</li>
<li>Put the <a href="https://raw.github.com/gist/571230/9b28129fde567df4576fb1d48db7e5e6111477a3/pygments_cfengine_lexer.py">pygments_cfengine_lexer.py</a> file into the pygments/lexers/ directory</li>
<li>run (cd pygments/lexers; python _mapping.py)</li>
<li>run ./setup.py install</li>
</ol>
<p>If you already have Pygments installed, you should follow these instructions:</p>
<ol>
<li>Put the <a href="https://raw.github.com/gist/571230/9b28129fde567df4576fb1d48db7e5e6111477a3/pygments_cfengine_lexer.py">pygments_cfengine_lexer.py</a> file in the installed pygments/lexers/ directory (on my Mac, this isÂ /Library/Python/2.6/site-packages/Pygments-1.4-py2.6.egg/pygments/lexers, under Linux it should be something like /usr/lib/python2.6/site-packages/Pygments..../pygments/lexers)
</li>
<li>cd into that directory</li>
<li>run "python _mapping.py"</li>

</ol>
<p>Then run pygmentize on any .cf file, and it should output properly highlighted code. You can view a sample <a href="http://zzamboni.org/files/cfengine_stdlib.html">here</a>.</p>
<p></p>  <p><a href="https://gist.github.com/571230">https://gist.github.com/571230</a></p>
